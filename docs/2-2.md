# 2-2. Linux
Linuxはオープンソースソフトウェアであり、コストがかからないためサーバーや開発用OSに多く使われています。  

カーネルと呼ばれるOSのコア機能に加えて、OSを使用するために必要なコンポーネントを纏めて頒布できるようにしたディストリビューションと呼ばれるものをインストールすることができます。

ディストリビューションにはDebian系とRedHat系が存在し、  
Debian系にはUbuntu、RedHat系にはFedoraやCentOSなどがあり、  
それぞれが特徴をもっています。

## Linuxのディレクトリ構成
* **/bin** Linuxシステムの動作に最低限必要な重要なコマンドを格納
* /dev デバイスファイルを置く
* **/etc** 設定ファイルを置く
* **/home** ユーザごとに割り当てられるホームディレクトリが配置
* /sbin 管理者ユーザ向けのコマンド
* /tmp 一時的なファイル置き場
* **/usr** 各アプリケーションや付随するファイルを置く場所
* **/var** 可変データを置く場所

## コマンドラインの基本
LinuxではCUI(Character User Interface)をメインで使うことが多くなります。  
アルファベットからなるコマンドを打ち込むことで操作を行います。  
ではコマンドラインツールを起動して実際にコマンドラインを打ち込んでみましょう。  

### 移動系コマンド
|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  pwd  |  現在のディレクトリを表示します  |    |
|  ls  |  指定したディレクトリに存在するファイル、<br>ディレクトリ、リンクを表示します  |  -l 詳細表示<br>-a 隠しファイルを表示する<br>-F ファイル種別を表示する  |
|  cd  |  指定したディレクトリに移動する  |    |

### 表示系コマンド

|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  cat  | ファイルの内容を表示します | |
|  head  | ファイルの冒頭を表示します | -n 行数、デフォルトは10行 |
|  tail  | ファイルの末尾を表示します | -n 行数、デフォルトは10行 |
|  less  | ファイルをスクロール可能表示します | fまたはspaceキー…ページ送り<br> b…ページ戻し<br> q…終了|

### 操作系コマンド

|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  mv  | ファイル移動<br>リネーム | ファイル1 [ファイル2, ...] 移動先<br>ファイル名 新しいファイル名 |
|  cp  | ファイルコピー | ファイル1 [ファイル2, ...] コピー先|
|  vi  | ファイル編集 | **※後述**  |
|  touch  | ファイルの追加 | |
|  rm  | ファイル削除 | -r ディレクトリも削除 |
|  mkdir  | ディレクトリ作成 | |
|  rmdir  | ディレクトリ削除 |　ディレクトリが空の場合のみ |
|  find | ファイル検索 | 検索場所 検索パターン |
|  chmod | ファイル権限変更 | 権限 ファイル名|

#### vi(閲覧モード)
viコマンドを叩くと、閲覧・編集用に表示が変更します

|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  :q  | vi終了 | :q!で強制終了 |
|  :w  | 保存 | |
|  h j k l  | 移動 ← ↓ ↑ → |  十字キーでもOK |
|  x  | 1文字削除 | |
|  i  | 左に文字を追加 | 編集モードへ |
|  a  | 右に文字を追加 | 編集モードへ |
|  $  | 行末へ移動 | d$　行末までカット<br> y$　行末までコピー  |
|  0  | 行頭へ移動 | d0　行頭までカット<br> y0　行頭までコピー  |
|  G  | ファイル末尾へ移動 |  dG　ファイル末尾までカット<br> yG　ファイル末尾までコピー  |
|  gg  | ファイルの先頭へ移動 | dgg　ファイル先頭までカット<br> ygg　ファイル先頭までコピー   |
|  p  | カットしたものを貼り付け | |
|  /hoge  | hogeを後検索 | n 次の結果 N 前の結果 |
|  ?hoge  | hogeを前検索 | n 次の結果 N 前の結果 |
|  :set number  | 行番号を表示 | |

#### vi(編集モード)
テキスト入力ができます。完了したらEscキーを押して閲覧モードに戻ります。

### 入出力

|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  < | 入力リダイレクト | 例 cat < hoge<br> hogeをcatする|
|  > | 出力リダイレクト | 例 cat hoge > fuga<br> hogeをfugaに出力 |
|  >> | ファイル末尾に出力 | 例 cat hoge > fuga<br> hogeをfugaのファイル末尾に出力 |
|  [pipeline] | パイプライン処理 | 例 find . [pipline]  grep hoge<br>現在のディレクトリを検索し、hogeで抽出 |

[pipeline]は`|`

### インストール系コマンド

|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  yum | インストールする | CentOSで使用 |
|  apt-get | インストールする | Ubuntuで使用 |

### その他
|  コマンド  |  説明  |  オプション・補足  |
| ---- | ---- |  ---- |
|  ssh | 他のサーバーにログイン | |
|  alias | コマンドのエイリアス(ショートカット)を作成 | alias ll='ls -l' のように指定<br>unaliasで削除 |
|  ps | プロセス表示 | |
|  man | コマンドのマニュアル表示 | |